<app-redirect-homepage></app-redirect-homepage>

<div class="pastpaper-container">
  <h1 class="title">PAST PAPER DATABASE</h1>

  <div class="filter-section mb-4">
    <select class="form-select me-2" [(ngModel)]="selectedYear" (change)="filterPapers()" aria-label="Year">
      <option *ngFor="let year of years" [value]="year">{{ year }}</option>
    </select>

    <select class="form-select me-2" [(ngModel)]="selectedSubject" (change)="filterPapers()" aria-label="Subject">
      <option *ngFor="let subject of subjects" [value]="subject">{{ subject }}</option>
    </select>

    <select class="form-select me-2" [(ngModel)]="selectedSeason" (change)="filterPapers()" aria-label="Season">
      <option *ngFor="let season of seasons" [value]="season">{{ season }}</option>
    </select>

    <input
      type="text"
      class="form-control"
      [(ngModel)]="searchQuery"
      (input)="filterPapers()"
      placeholder="Search Past paper"
      aria-label="Search"
    />
  </div>

  <div class="papers-list">
    <div *ngIf="filteredPapers.length > 0; else noPapers" class="row">
      <div *ngFor="let paper of filteredPapers" class="col-md-4 mb-3">
        <div class="card paper-card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <h5 class="card-title mb-0">{{ paper.name }}</h5>
            <button class="btn btn-primary" title="Download" (click)="downloadPaper(paper)">
              <i class="bi bi-download"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noPapers>
    <p>No past papers found.</p>
  </ng-template>
</div>
